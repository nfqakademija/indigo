{% extends 'IndigoMainBundle:Pixel:base.html.twig' %}

{% block title %}{{ 'user.form.title.change_password'|trans }}{% endblock %}

{% block body_class %}theme-default page-signin{% endblock %}

{% block body %}
	<div id="page-signin-bg">
		<div class="overlay"></div>
		<img src="{{ asset('bundles/indigomain/images/demo/signin-bg-2.jpg') }}" alt="">
	</div>

	<div class="signin-container">
		<div class="signin-info">
			<a href="index.html" class="logo">
				<img src="{{ asset('bundles/indigomain/images/demo/logo-big.png') }}" alt="" style="margin-top: -5px;">&nbsp;
				PixelAdmin
			</a>
			<div class="slogan">
				Simple. Flexible. Powerful.
			</div>
			<ul>
				<li><i class="fa fa-sitemap signin-icon"></i> Flexible modular structure</li>
				<li><i class="fa fa-file-text-o signin-icon"></i> LESS &amp; SCSS source files</li>
				<li><i class="fa fa-outdent signin-icon"></i> RTL direction support</li>
				<li><i class="fa fa-heart signin-icon"></i> Crafted with love</li>
			</ul>
		</div>

		<div class="signin-form">

			{{ form_start(form) }}
				<div class="signin-text">
					<span>{{ 'user.form.password_reset'|trans }}</span>
				</div>

				<div class="form-group w-icon">
					{{ form_widget(form.password.first) }}
					<span class="fa fa-lock signin-form-icon"></span>
				</div>

				<div class="form-group w-icon">
					{{ form_widget(form.password.second) }}
					<span class="fa fa-lock signin-form-icon"></span>
				</div>

				<div class="form-group w-icon">
						<div class="note note-danger">
							{{  form_errors(form.password.first) }}
						</div>
				</div>

				<div class="form-actions">
					{{ form_widget(form.change) }}
				</div>
				{{ form_end(form) }}
			</div>
		</div>
	</div>

	<div class="not-a-member">
		{{ 'user.not_member'|trans }} <a href="{{ path('register_action') }}">{{ 'user.sign_up_now'|trans }}</a>
	</div>
{% endblock %}

{% block javascripts %}
	{{  parent() }}
<script type="text/javascript">
	var init = [];

	// Resize BG
	init.push(function () {
		var $ph  = $('#page-signin-bg'),
		    $img = $ph.find('> img');

		$(window).on('resize', function () {
			$img.attr('style', '');
			if ($img.height() < $ph.height()) {
				$img.css({
					height: '100%',
					width: 'auto'
				});
			}
		});
	});
	window.PixelAdmin.start(init);
</script>
{% endblock %}