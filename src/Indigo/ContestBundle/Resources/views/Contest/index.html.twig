{% extends 'IndigoMainBundle:Pixel:base.html.twig' %}

{% block body -%}
    <h1>
        {{ 'contest_list'|trans }}

        <a href="{{ path('contest_new') }}" class="pull-right">
            <button type="button" class="btn btn-success btn-lg">
                <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> {{ 'create_new_contest'|trans }}
            </button>
        </a>
    </h1>

    <div class="table-light">
        <div class="table-header">
            <div class="table-caption">
                {{ 'contest_list'|trans }}
            </div>
        </div>
        <table class="table table-bordered">
        <thead>
            <tr>
                <th class="text-center">{{ 'creator'|trans }}</th>
                <th class="text-center">{{ 'create_contest.form.contest_title'|trans|capitalize }}</th>
                <th class="text-center">{{ 'create_contest.form.contest_logo'|trans }}</th>
                <th class="text-center">{{ 'create_contest.form.table_name'|trans }}</th>
                <th class="text-center">{{ 'contest_privacy'|trans }}</th>
                <th class="text-center">{{ 'create_contest.form.contest_type'|trans }}</th>
                <th class="text-center">{{ 'create_contest.form.contest_starting_date'|trans }}</th>
                <th class="text-center">{{ 'create_contest.form.contest_end_date'|trans }}</th>
                <th class="text-center">{{ 'actions'|trans }}</th>
            </tr>
        </thead>
        <tbody>
        {% for entity in entities %}
            <tr>
                <td class="text-center">{% if entity.user %}{{ entity.user.username }}{% endif %}</td>
                <td class="text-center">{{ entity.contestTitle|capitalize }}</td>
                <td class="text-center">
                    {% if entity.pathForImage %}
                        {% set pathForImage = entity.pathForImage %}
                    {% else %}
                        {% set pathForImage = "contest-logo.jpg" %}
                    {% endif %}

                    <img src="{{ asset('uploaded_images/contest/') }}{{ pathForImage }}" alt="*" height="100" width="100" title="{{ entity.contestTitle|capitalize }}"/>
                </td>
                <td class="text-center">{{ entity.tableName|capitalize }}</td>
                <td class="text-center">
                    {% if entity.contestPrivacy %}
                        {{ 'create_contest.success.privacy.yes'|trans|capitalize }}
                    {% else %}
                        {{ 'create_contest.success.privacy.no'|trans|capitalize }}
                    {% endif %}
                </td>
                <td class="text-center">
                    {% if entity.contestType %}
                        {{ 'create_contest.form.contest_type.team'|trans|capitalize }}
                    {% else %}
                        {{ 'create_contest.form.contest_type.single'|trans|capitalize }}
                    {% endif %}
                </td>
                <td class="text-center">{% if entity.contestStartingDate %}{{ entity.contestStartingDate|date('Y-m-d') }}{% endif %}</td>
                <td class="text-center">{% if entity.contestEndDate %}{{ entity.contestEndDate|date('Y-m-d') }}{% endif %}</td>
                <td class="text-center">
                        <a href="{{ path('contest_show', { 'id': entity.id }) }}" title="{{ 'show'|trans }}">
                            <button type="button" class="btn btn-default" style="margin-bottom:2px;">
                                <span class="glyphicon glyphicon-eye-open" aria-hidden="true"></span>
                            </button>
                        </a><br/>
                        <a href="{{ path('contest_edit', { 'id': entity.id }) }}" title="{{ 'edit'|trans }}">
                            <button type="button" class="btn btn-default" style="margin-bottom:2px;">
                                <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                            </button>
                        </a><br/>
                        {#<a href="{{ path('contest_delete', { 'id': entity.id }) }}" title="{{ 'delete'|trans }}">
                            <button type="button" class="btn btn-danger">
                                <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                            </button>
                        </a>#}
                </td>
            </tr>
        {% endfor %}
        </tbody>
        </table>
    </div>

            <a href="{{ path('contest_new') }}" class="pull-right">
                <button type="button" class="btn btn-success btn-lg">
                    <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> {{ 'create_new_contest'|trans }}
                </button>
            </a>
    {% endblock %}
