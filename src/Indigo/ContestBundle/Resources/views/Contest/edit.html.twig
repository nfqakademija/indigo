{% extends 'IndigoMainBundle:Pixel:pages-create-contest.html.twig' %}

{% block title %}{{ 'contest_edit'|trans }}{% endblock %}

{% block body -%}
    <h1>{{ 'contest_edit'|trans }}</h1>

    {{ form_start(edit_form) }}
    {{ form_row(edit_form.user) }}
    {{ form_row(edit_form.contestTitle) }}
    {{ form_row(edit_form.image) }}
    {{ form_row(edit_form.tableName) }}
    {{ form_row(edit_form.contestType) }}
    <div class="form-group">
        <label class="col-sm-2 control-label required">{{ 'period'|trans }}</label>
        <div class="col-sm-10">
            <div class="input-daterange input-group date" id="datepicker">
                {{ form_widget(edit_form.contestStartingDate) }}
                <span class="input-group-addon">{{ 'to'|trans|lower }}</span>
                {{ form_widget(edit_form.contestEndDate) }}
            </div>
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label required">{{ 'create_contest.form.contest_privacy'|trans }}</label>
        <div class="col-sm-10">
            {{ form_widget(edit_form.contestPrivacy, {'data' : edit_form.contestPrivacy, 'attr' : {'data-on-text' : 'yes'|trans, 'data-off-text' : 'no'|trans}}) }}
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label required"></label>
        <div class="col-sm-10">
            <button type="button" class="btn btn-info" data-toggle="collapse" data-target="#optionalPrize">
                <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> {{ 'add_prize'|trans }} ({{ 'optional'|trans }})
            </button>
        </div>
    </div>
    <div id="optionalPrize" class="collapse">
        {{ form_row(edit_form.prize) }}
        {{ form_row(edit_form.prizeImage) }}
    </div>
    {{ form_end(edit_form) }}
    <div class="form-group">
        <label class="col-sm-2 control-label required"></label>
        <div class="col-sm-10" style="padding-left:5px;">
            <a href="{{ path('contest_delete', { 'id': entity.id }) }}" title="{{ 'delete'|trans }}" class="btn btn-danger">
                <span class="glyphicon glyphicon-remove" aria-hidden="true"></span> {{ 'delete'|trans }}
            </a>
            <a href="{{ path('contest') }}" title="{{ 'back_to_the_list'|trans }}" class="pull-right btn btn-default">
                <span class="glyphicon glyphicon-th-list" aria-hidden="true"></span> {{ 'back_to_the_list'|trans }}
            </a>
        </div>
    </div>
{% endblock %}